<div class="job-title-section">
  <div class="title"  *ngIf="JobDetail">
    <div class="left-container">
      <div class="top">
        <h3>{{JobDetail?.JobTitle}}</h3>
        <span class="status active" *ngIf="JobDetail?.JobStatus != 'InActive'">{{JobDetail?.JobStatus}}</span>
        <span class="status inactive" *ngIf="JobDetail?.JobStatus === 'InActive'">{{JobDetail?.JobStatus}}</span>
      </div>
      <div class="bottom">
        <div class="company">
          {{JobDetail?.ClientName || "Not Provided"}}
        </div>
        <div class="highlight">
          Arytic ID: {{JobDetail?.JobId}}
        </div>
        <ul>
          <li>
            <span class="mdi mdi-map-marker-outline"></span>
            {{JobDetail?.JobLocations.split('|')[0]}}
          </li>
          <li>
            <span class="mdi mdi-calendar-blank-outline"></span>
            {{JobDetail?.JobPositionId || "Not Provided"}}
          </li>
          <li>
            <span class="mdi mdi-account-group-outline"></span>
            {{JobDetail?.NumberOfVacancies}} Positions
          </li>
        </ul>
      </div>
    </div>
    <div class="right-navigation">
      <ul>
        <li>
          <a href="#" placement="top" ngbTooltip="View Edit Job">
            <span class="mdi mdi-view-dashboard-edit-outline"></span>
          </a>
        </li>
        <li>
          <a href="#" placement="top" ngbTooltip="Change Job Status">
            <span class="mdi mdi-list-status"></span>
          </a>
        </li>
        <li>
          <a href="#" placement="top" ngbTooltip="Upload Resume">
            <span class="mdi mdi-tray-arrow-up"></span>
          </a>
        </li>
        <li>
          <a href="#" placement="top" ngbTooltip="Share job / Invite Candidate">
            <span class="mdi mdi-share-variant-outline"></span>
          </a>
        </li>
        <li>
          <a href="#" placement="top" ngbTooltip="Job Note">
            <span class="mdi mdi-note-outline"></span>
          </a>
        </li>
        <li>
          <a href="#" placement="top" ngbTooltip="Job Documents">
            <span class="mdi mdi-folder-outline"></span>
          </a>
        </li>
        <li>
          <a href="javascript:void(0)" (click)="panelHandler('job-review')" placement="top" ngbTooltip="Reviews">
            <span class="mdi mdi-star-outline"></span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</div>

<app-jobs-activities-nav [JobId]="JobId"></app-jobs-activities-nav>
<app-job-activites-stats></app-job-activites-stats>
<app-job-activities-summary [JobId]="JobId"></app-job-activities-summary>
<app-job-activities-job-filters
  [viewLayout] = "viewLayout"  
  (layoutView) = "layoutView($event)"
  (newItemEvent)="addItem($event)"
  [Profiles]="Profiles" (quickchanged)="onquickChange($event)" 
  (changed)="onChange($event)"  (clearItemEvent)="clearAll($event)"
>

</app-job-activities-job-filters>
<div class="sorting-container d-flex align-items-center">
  <div class="result">
    Showing  {{jstart==null?1:jstart }} - {{jlast==null?6:jlast}}  out of {{(Profiles|filter: jfilterTerm).length}}  Jobs
  </div>
  <div class="sorting">
    <pagination-controls  (pageChange)="jlistCount($event)"  [autoHide]="true" *ngIf="Profiles.length>0"  (pageChange)="jp = $event"
    previousLabel="" nextLabel="" id="jfirst">
    </pagination-controls>
</div>
</div>
<br/>

 <ng-container *ngIf="viewLayout == 'grid'">
  <div class="job-listing-grid">
    <div class="row">
      <ng-container *ngFor="let profile of Profiles | filter: jfilterTerm  | paginate: { itemsPerPage: 6, currentPage: jp, id: 'jfirst'}">
        <div class="col-md-4 col-lg-4 job-card" >
          <app-job-card [profile]="profile"
            [panelShow]="panelShow"
            (panelHandler)="panelHandler($event)"
          ></app-job-card>
        </div>
      </ng-container>
    </div>
  </div>
</ng-container> 

 <ng-container *ngIf="viewLayout == 'table'">
  <div class="job-listing-table">
    <div class="table-row table-row-heading">
      <div class="table-col name-col">
        Name
      </div>
      <div class="table-col position-col">
        Position
      </div>
      <div class="table-col email-col">
        Email
      </div>
      <div class="table-col number-col">
        Contact Number
      </div>
      <div class="table-col location-col">
        Current Location
      </div>
      <div class="table-col others-col">
        Others
      </div>
    </div>
    <div class="table-row">
      <ng-container *ngFor="let profile of Profiles| filter: jfilterTerm | paginate: { itemsPerPage: 6, currentPage: jp, id: 'jfirst'}">
      <app-job-list [profile]="profile"></app-job-list>
      </ng-container>
    </div>
  </div>
</ng-container> 


<app-slidepanel 
  class="slide-panel"
  [ngClass]="panelShow=='job-review'?'job-review-panel show':''"
  [panelTitle]="'Job Review'"
  (panelCloseHandler) ="panelCloseHandler()"
>
  <div class="slide-static-section">
    <div class="slide-heding d-flex align-items-center">
      <h3>Job Review</h3>
    </div>
    <app-sidepanel-cards></app-sidepanel-cards>
    <div class="form-actions">
     &nbsp;
    </div>
  </div>
  <div class="slide-container">
    <app-job-review></app-job-review>
  </div>
</app-slidepanel>

<app-slidepanel 
  class="slide-panel"
  [ngClass]="panelShow=='communication'?'show':''"
  (panelCloseHandler) ="panelCloseHandler()"
>
  <div class="slide-static-section">
    <div class="slide-heding d-flex align-items-center">
      <h3>Job Review</h3>
    </div>
    <app-sidepanel-cards
      [jobCard] = "true"
    >
    </app-sidepanel-cards>
    <div class="form-actions d-flex align-items-center">
      <div class="toogle-container">
        Notes
        <label class="toggle" for="toogleView">
          <input class="toggle__input" name="" (change)="changeView();" type="checkbox" id="toogleView">
          <div class="toggle__fill"></div>
        </label>
        Feedback
      </div>
    
      <ng-container *ngIf="isChecked == false && showNoteForm == false">
        <button class="btn btn-info" (click)="showNoteFormHandler()">Add New Notes</button>
      </ng-container>
      <ng-container *ngIf="isChecked == false && showNoteForm == true">
        <button class="btn btn-info" (click)="hideNoteFormhandler()">Save</button>
      </ng-container>
      <ng-container *ngIf="isChecked == true && showFeedbackForm == false">
        <button class="btn btn-info" (click)="showFeedbackFormHandler()">Add Feedback</button>
      </ng-container>
      <ng-container *ngIf="isChecked == true && showFeedbackForm == true">
        <button class="btn btn-info" (click)="hideFeedbackFormhandler()">Save</button>
      </ng-container>
    </div>
  </div>
  <div class="slide-container">
    <app-job-communication
      [isChecked]="isChecked"
      [showNoteForm] = "showNoteForm"
      (changeView)="changeView()"
      [showFeedbackForm] = "showFeedbackForm"
    >
    </app-job-communication>
  </div>
</app-slidepanel>

<app-slidepanel 
  class="slide-panel"
  [ngClass]="panelShow=='candidate-document'?'show':''"
  (panelCloseHandler) ="panelCloseHandler()"
>
  <div class="slide-static-section">
    <div class="slide-heding d-flex align-items-center">
      <h3>Candidate Document</h3>
    </div>
    <app-sidepanel-cards
      [jobCard] = "true"
    >
    </app-sidepanel-cards>
    <div class="form-actions d-flex document-form-actions">      
      <div class="toogle-container">
        Resume
        <label class="toggle" for="typeView">
          <input class="toggle__input" name="" (change)="documentType()" type="checkbox" id="typeView">
          <div class="toggle__fill"></div>
        </label>
        Other Documents
      </div>
      <h4>{{ isDocumentType ? 'Other Documents': 'Resume Documents'}}</h4> 
    </div>
  </div>
  <div class="slide-container">
    <app-candidate-document
      [isDocumentType]="isDocumentType"
      (documentType)="documentType()"
    >
    </app-candidate-document>
  </div>
</app-slidepanel>

<app-slidepanel 
  class="slide-panel"
  [ngClass]="panelShow=='share-profile'?'show':''"
  (panelCloseHandler) ="panelCloseHandler()"
>
  <div class="slide-static-section">
    <div class="slide-heding d-flex align-items-center">
      <h3>Share Profile</h3>
    </div>
    <app-sidepanel-cards
      [jobCard] = "true"
    >
    </app-sidepanel-cards>
  </div>
  <div class="form-actions">
    <button class="btn btn-outlined-default">Clear</button>
    <button class="btn btn-info">Save</button>
  </div>
  <div class="slide-container">
    <app-job-share-profile></app-job-share-profile>
  </div>
</app-slidepanel>

<app-slidepanel 
  class="slide-panel"
  [ngClass]="panelShow=='job-change-application'?'show':''"
  (panelCloseHandler) ="panelCloseHandler()"
>
  <div class="slide-static-section">
    <div class="slide-heding d-flex align-items-center">
      <h3>Change Application Status</h3>
    </div>
    <app-sidepanel-cards
      [jobCard] = "true"
    >
    </app-sidepanel-cards>
  </div>
  <div class="form-actions">
    <button class="btn btn-outlined-default">Clear</button>
    <button class="btn btn-info">Schedule</button>
  </div>
  <div class="slide-container">
    <app-job-status-change></app-job-status-change>
  </div>
</app-slidepanel>