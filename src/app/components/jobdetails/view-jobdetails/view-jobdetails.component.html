<app-Logoheader></app-Logoheader>
  <main class="page page--job-details">
    <div class="container">
      <div class="row">
        <div class="selected-job card">
          <header>
            <div class="left">
              <div class="flex va">
                <a routerLink="/app-manage-jobs/app-manage-load-joblist/1">
                  <svg fill="#448AFA" xmlns="http://www.w3.org/2000/svg" width="21.1" height="16.7">
                    <path class="st0" d="M8.4 16.7a.9.9 0 0 1-.7-.3L.3 9.1c-.2-.2-.3-.4-.3-.7s.1-.5.3-.7L7.7.3c.4-.4 1-.4 1.4 0s.4 1 0 1.4L2.4 8.4 9.1 15c.4.4.4 1 0 1.4-.2.2-.4.3-.7.3z" />
                    <path class="st0" d="M20.1 9.4H1c-.6 0-1-.4-1-1s.4-1 1-1h19.1c.6 0 1 .4 1 1s-.4 1-1 1z" />
                  </svg>
                </a>
                <h3 class="title" (click)="ViewJobdetailsModel(jobdetailsbasicinfo.CustomerId,jobdetailsbasicinfo.JobId)">{{jobdetailsbasicinfo?.JobTitle}}</h3>
                <div class="status shortlisted">
                  {{jobdetailsbasicinfo?.JobStatus}}
                </div>
              </div>
              <div class="meta">
                <svg fill="#93a2bb" xmlns="http://www.w3.org/2000/svg" width="16" height="19.3">
                  <path class="st0" d="M8 19.3l-.6-.4c-.3-.2-7.5-5-7.5-10.9 0-4.4 3.6-8 8-8s8 3.6 8 8c0 5.9-7.1 10.7-7.4 10.9l-.5.4zM8 2C4.7 2 2 4.7 2 8c0 4 4.4 7.7 6 8.9 1.6-1.2 6-4.9 6-8.9 0-3.3-2.7-6-6-6z" />
                  <path class="st0" d="M8.1 11.3c-1.8 0-3.3-1.5-3.3-3.3 0-1.8 1.5-3.3 3.3-3.3s3.3 1.5 3.3 3.3c0 1.8-1.5 3.3-3.3 3.3zm0-4.6c-.7 0-1.3.6-1.3 1.3s.6 1.3 1.3 1.3S9.4 8.7 9.4 8s-.6-1.3-1.3-1.3z" />
                </svg>
                <h5 class="location">
                  {{joblocation}}
                </h5>
                <h5>Posted on: {{ jobdetailsbasicinfo?.PostedOn }}</h5>
              </div>
            </div>
            <div class="right">
              <div>
                <h2 class="stat">{{jobdetailsbasicinfo?.NumberOfVacancies}}</h2>
                <h6 class="label">No. of positions</h6>
              </div>
              <div>
                <h2 class="stat">{{jobdetailsbasicinfo?.TotalViewCount}}</h2>
                <h6 class="label">No. of views</h6>
              </div>
              <div>
                <h2 class="stat">{{jobdetailsbasicinfo?.DislikesCount}}</h2>
                <h6 class="label">Dislikes</h6>
              </div>
              <div>
                <h2 class="stat">{{jobdetailsbasicinfo?.LikesCount}}</h2>
                <h6 class="label">Likes</h6>
              </div>
            </div>

          </header>
          <div class="card-body">
            <div>
              <button *ngIf="jobdetailsbasicinfo?.IsActive==true;else isactive"  class="btn btn-border"  id="Inactive"  (click)="changeJobStatus(jobdetailsbasicinfo,false)">Inactive</button>
              <ng-template #isactive>
                <button id="Active"  class="btn btn-border" (click)="changeJobStatus(jobdetailsbasicinfo,true)">Active</button>
              </ng-template>
              <button class="btn btn-border" mat-button (click)="openCandidateUploadDialog()">Manage Profiles</button>
            </div>
            <div>
              <button class="btn btn-border">Conversations</button>
              <!-- <button class="btn btn-filled" data-toggle="modal" data-target="#selectedJobDetails">View Job Detail (Static HTML)</button> -->
              <button class="btn btn-filled" mat-button  (click)="ViewJobdetailsModel(jobdetailsbasicinfo.CustomerId,jobdetailsbasicinfo.JobId)">View Job Detail</button>
            </div>

          </div>
          <div class="card-footer">
            <ul class="nav nav-tabs">
              <li class="disabled">
                <a data-toggle="tab" href="#all-candidates"><!-- (click)="updateallcandidatesstatus()" -->
                  <div>
                    <h1>{{jobstatistics?.AllCandidates}}</h1>
                    <h4>All Candidates</h4>
                  </div>
                </a>
              </li>
              <li class="active">
                <a data-toggle="tab" href="#applied" (click)="updateappliedstatus()">
                  <div>
                    <h1>{{jobstatistics?.Applied}}</h1>
                    <h4>Applied</h4>
                  </div>
                </a>
              </li>
              <li>
                <a data-toggle="tab" href="#screening">
                  <div>
                    <h1>0</h1>
                    <h4>Screening</h4>
                  </div>
                </a>
              </li>
              <li>
                <a data-toggle="tab" href="#suggested" (click)="updatesuggestedstatus()">
                  <div>
                    <h1>{{jobstatistics?.Suggested}}</h1>
                    <h4>Suggested</h4>
                  </div>
                </a>
              </li> 
              <li>
                <a data-toggle="tab" href="#shortlisted" (click)="updateshortlistedstatus()">
                  <div>
                    <h1>{{jobstatistics?.ShortListed}}</h1>
                    <h4>Shortlisted</h4>
                  </div>
                </a>
              </li>
              <li>
                <a data-toggle="tab" href="#interview" (click)="updateinterviewedstatus()">
                  <div>
                    <h1>{{jobstatistics?.Interviewed}}</h1>
                    <h4>Interview</h4>
                  </div>
                </a>
              </li>
              <li>
                <a data-toggle="tab" href="#hired" (click)="updatehiredstatus()">
                  <div>
                    <h1>{{jobstatistics?.Hired}}</h1>
                    <h4>Hired</h4>
                  </div>
                </a>
              </li>
              <li>
                <a data-toggle="tab" href="#rejected" (click)="updaterejectedstatus()">
                  <div>
                    <h1>{{jobstatistics?.RejectedORWithdrawn}}</h1>
                    <h4>Rejected / Withdrawn</h4>
                  </div>
                </a>
              </li> 
            </ul>
          </div>
          <!-- .selected .job-card -->  
        </div>
        <app-filter-view-jobs [jobid]="jobid"
              [statusid]="statusid"  [parentApi]="getParentApi()"></app-filter-view-jobs>
        <div *ngIf="showDetailadvancesearch">
          <app-jobdetails-advance-search></app-jobdetails-advance-search>
        </div>
      </div>
      <div class="row">
        <div class="row">
          <div class="tab-content">
            <div id="applied" class="tab-pane fade in active"> 
              <app-viewjobdetails-candidate-profile
              [jobid]="jobid"
              [statusid]="statusid" (myEvent)="updateStatistics($event)">
              </app-viewjobdetails-candidate-profile> 
              <mat-progress-spinner *ngIf="profileLoader===true"
                style="margin:0 auto;" 
                class=""
                [color]="color"
                [mode]="mode" strokeWidth="3" [diameter]="50" >
             </mat-progress-spinner>
              <div class="col-md-12" *ngIf="loadMore">
                <div class="load-more btn btn-border btn-block" (click)="updateProfileCount(jobid,statusid)">
                  Load More
                </div>
              </div>
              <!-- <app-load-candlist [jobid]="jobid"
              [statusid]="statusid" ></app-load-candlist> -->
            </div>
          </div>
        </div>
      </div>
    </div>
</main>
